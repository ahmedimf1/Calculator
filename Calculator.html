<!DOCTYPE html>
<html>
<head>
  <style>

    </style>
  <title>Calculator</title>
  <meta charset="UTF-8"/>
</head>
<body>
    <div id="display"></div>
    <button id="num">1</button><button id="num">2</button><button id="num">3</button>      <button id="operator">+</button><br>
    <button id="num">4</button><button id="num">5</button><button id="num">6</button>      <button id="operator">-</button><br>
    <button id="num">7</button><button id="num">8</button><button id="num">9</button>      <button id="operator">*</button><br>
    <button id="decimal">.</button> <button id="num">0</button></button><button id="equal">=</button></button>       <button id="operator">/</button><br>
                        <button id="clear">Clear</button>

  <script>
      let buttons = document.querySelectorAll("button")
      let calcDisplay = document.getElementById ("display")
      let a="", b="", op, display,history, result = 0;
      buttons.forEach((btn)=>{
          btn.addEventListener("click",(e) => {
              
            if (e.target.id=="num" && (!op)){
                  a+=e.target.innerText
                  display =a
              }
            if (e.target.id=="num" && (op)){
                  b+=e.target.innerText
                  display=b
              }
            if (e.target.id=="operator"){
                  op = e.target.innerText
                  if (b){ a = result
                  display = a
                  }
                  b=""
              }
            if (e.target.id=="equal" && (op) && (a) && (b)){
                result = Math.round(operator(parseInt(a),op,parseInt(b)))
                if(isNaN(result)){
                    display = "Error. Press Clear"
                    a=0 
                } 
                else{
                    display = result
                } 
                console.log(display)   
            }
            if (e.target.id=="clear"){
                display = 0
                a ="", b="", op="", history="";
            }

            console.log (a,op,b)
            calcDisplay.innerText = display
            console.log(history)
            
          })
          return (a,op,b)
      })
      console.log(display)

    function sum(a,b){
        //console.log(a+b)
        return a+b;
    }

    function multiply(a,b){
      return a*b;
    }

    function divide(a,b){
      return b==0? "Error":a/b
    }
    
    function subtract(a,b){
      return a-b;
    }
    function operator(a,op,b){
      switch (op){
        case "+" :
          return sum(a,b);
          break;
        
        case "-" :
          return subtract(a,b);
          break;

        case "*" :
          return multiply(a,b);
          break;

        case "/" :
          return divide(a,b);
          break;
      }
    }
    
    


  </script>
</body>

</html>